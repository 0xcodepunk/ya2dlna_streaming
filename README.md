# YA2DLNA Streaming

<p align="center">
  <img src="assets/logo.png" alt="YA2DLNA Streaming Banner" width="1000"/>
</p>

<p align="center">
  <img src="https://img.shields.io/github/stars/0xcodepunk/ya2dlna_streaming?style=social" alt="GitHub Repo stars"/>
  <img src="https://img.shields.io/github/last-commit/0xcodepunk/ya2dlna_streaming?color=blue" alt="Last commit">
  <img src="https://img.shields.io/github/languages/top/0xcodepunk/ya2dlna_streaming" alt="Top language">
</p>

–ü—Ä–æ–µ–∫—Ç –¥–ª—è —Å—Ç—Ä–∏–º–∏–Ω–≥–∞ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ —Å **–Ø–Ω–¥–µ–∫—Å –°—Ç–∞–Ω—Ü–∏–∏** –Ω–∞ **DLNA-—Å–æ–≤–º–µ—Å—Ç–∏–º—ã–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞** –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∞—É–¥–∏–æ—Å–∏—Å—Ç–µ–º–æ–π **Ruark R5**.  

–í —Ç–µ–∫—É—â–µ–π –≤–µ—Ä—Å–∏–∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è **—Ç–æ–ª—å–∫–æ Ruark R5**, –Ω–æ –≤–æ–∑–º–æ–∂–Ω–æ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤ –ø—Ä–∏ –∏–Ω—Ç–µ—Ä–µ—Å–µ —Å–æ–æ–±—â–µ—Å—Ç–≤–∞.  

–ï—Å–ª–∏ —Ç–µ–±–µ –Ω—Ä–∞–≤–∏—Ç—Å—è –∏–¥–µ—è ‚Äî [–ø–æ–¥–¥–µ—Ä–∂–∏ –ø—Ä–æ–µ–∫—Ç –∑–≤—ë–∑–¥–æ—á–∫–æ–π –Ω–∞ GitHub](https://github.com/0xcodepunk/ya2dlna_streaming) ‚≠êÔ∏è

##  –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
–ü—Ä–æ–µ–∫—Ç —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ —Å–ª–µ–¥—É—é—â–∏—Ö —Å–µ—Ä–≤–∏—Å–æ–≤:

- **API —Å–µ—Ä–≤–∏—Å** (`src/api`) ‚Äì REST API –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å—Ç—Ä–∏–º–∏–Ω–≥–æ–º (**–ø–æ—Ä—Ç 8001**)
- **DLNA —Å–µ—Ä–≤–µ—Ä** (`src/dlna_stream_server`) ‚Äì –ø–æ—Ç–æ–∫–æ–≤–æ–µ –≤–µ—â–∞–Ω–∏–µ (**–ø–æ—Ä—Ç 8080**)
- **–û—Å–Ω–æ–≤–Ω–æ–π —Å–µ—Ä–≤–∏—Å —Å—Ç—Ä–∏–º–∏–Ω–≥–∞** (`src/main_stream_service`) ‚Äì –∫–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏—è –ø–æ—Ç–æ–∫–∞
- **–ú–æ–¥—É–ª—å –Ø–Ω–¥–µ–∫—Å –°—Ç–∞–Ω—Ü–∏–∏** (`src/yandex_station`) ‚Äì —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ–º
- **–ú–æ–¥—É–ª—å Ruark** (`src/ruark_audio_system`) ‚Äì –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Ruark R5
- **–Ø–¥—Ä–æ** (`src/core`) ‚Äì –∫–æ–Ω—Ñ–∏–≥–∏, –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ, –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è

##  –†–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏–µ —Å Docker

###  –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è
- **Docker** –∏ **Docker Compose**

###  –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫
```bash
git clone <repository-url>
cd ya2dlna_streaming
```

–°–æ–∑–¥–∞–π—Ç–µ `.env` —Ñ–∞–π–ª –∏ –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:
```ini
# –ü—É—Ç—å –∫ –∏—Å—Ö–æ–¥–Ω–æ–º—É –∫–æ–¥—É
PYTHONPATH=src  

# –†–µ–∂–∏–º –æ—Ç–ª–∞–¥–∫–∏ –¥–ª—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
APP_DEBUG=False

# API —Ç–æ–∫–µ–Ω –¥–ª—è –Ø–Ω–¥–µ–∫—Å.–ú—É–∑—ã–∫–∏
APP_YA_MUSIC_TOKEN=your_token_here

# PIN-–∫–æ–¥ Ruark (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 1234)
APP_RUARK_PIN=1234

# –ü–æ—Ä—Ç—ã —Å–µ—Ä–≤–∏—Å–æ–≤
APP_LOCAL_SERVER_HOST=0.0.0.0
APP_LOCAL_SERVER_PORT_DLNA=8080
APP_LOCAL_SERVER_PORT_API=8001
```

–ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–∏—Å—ã:
```bash
docker-compose up -d
```

## üéØ API Endpoints

| –ú–µ—Ç–æ–¥  | –≠–Ω–¥–ø–æ–∏–Ω—Ç     | –û–ø–∏—Å–∞–Ω–∏–µ   |
|--------|--------------|------------|
| `POST` | `/stream_on` | –ó–∞–ø—É—Å–∫ —Å—Ç—Ä–∏–º–∏–Ω–≥–∞ —Å –Ø–Ω–¥–µ–∫—Å –°—Ç–∞–Ω—Ü–∏–∏ |
| `POST` | `/shutdown`  | –û—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å—Ç—Ä–∏–º–∏–Ω–≥–∞ |

## üíª –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞

### üîπ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
```bash
python -m venv venv
source venv/bin/activate  # Windows: venv\Scripts\activate
pip install -r requirements.txt
```

### üîπ –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–∏—Å–æ–≤
```bash
# API —Å–µ—Ä–≤–∏—Å
python -m src.api.main

# DLNA —Å–µ—Ä–≤–µ—Ä
python -m src.dlna_stream_server.main
```

## ‚ö° –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è
- **Python 3.11+**  
–ü–æ–ª–Ω—ã–π —Å–ø–∏—Å–æ–∫ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –≤ `requirements.txt`.

---

üéµ **YA2DLNA Streaming** ‚Äì —É–¥–æ–±–Ω—ã–π —Å–ø–æ—Å–æ–± —Å–ª—É—à–∞—Ç—å –º—É–∑—ã–∫—É —Å **–Ø–Ω–¥–µ–∫—Å –°—Ç–∞–Ω—Ü–∏–∏** –Ω–∞ **DLNA-—Å–æ–≤–º–µ—Å—Ç–∏–º—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö**!  

---

üì´ –ï—Å—Ç—å –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è –∏–ª–∏ –±–∞–≥–∏? –û—Ç–∫—Ä—ã–≤–∞–π [issue](https://github.com/0xcodepunk/ya2dlna_streaming/issues) ‚Äî —Ñ–∏–¥–±–µ–∫ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤—É–µ—Ç—Å—è!

üí¨ –ï—Å—Ç—å –∏–¥–µ–∏, –≤–æ–ø—Ä–æ—Å—ã –∏–ª–∏ –ø—Ä–æ—Å—Ç–æ —Ö–æ—á–µ—à—å –ø–æ–æ–±—â–∞—Ç—å—Å—è? –ó–∞–≥–ª—è–¥—ã–≤–∞–π –≤ [–æ–±—Å—É–∂–¥–µ–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞](https://github.com/0xcodepunk/ya2dlna_streaming/discussions/4)!
